(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports=a(335)},132:function(e,t,a){},159:function(e,t){},335:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(41),r=a.n(o),i=(a(132),a(42)),c=a(43),u=a(46),l=a(44),d=a(47),m=a(336),h=a(337),f=a(123),v=a.n(f),p=a(338),k=a(124),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).mouseMoved=function(t){t.nativeEvent.preventDefault();var a=e.state,n=a.clicked,s=a.draw,o=a.id,r=a.color,i=t.nativeEvent.offsetX,c=t.nativeEvent.offsetY;t.pressure?s.lineWidth=1*t.pressure:s.lineWidth=10,e.state.socket.emit("mouse",{x:i,y:c,clicked:n,id:o,color:r}),n&&(s.lineTo(i,c),s.stroke()),e.setState({x:i,y:c})},e.resetStatus=function(){setTimeout(function(){e.setState({statusMessage:null})},3e3)},e.mouseDown=function(){e.setState({clicked:!0}),e.state.draw.beginPath()},e.mouseUp=function(){e.state.socket.emit("mouse",{clicked:!1}),e.setState({clicked:!1})},e.mouseLeave=function(){e.state.socket.emit("mouse",{clicked:!1}),e.setState({clicked:!1})},e.setName=function(){var t=e.state,a=t.id,n=t.name;t.socket.emit("nameSelect",{id:a,name:n})},e.handleChangeComplete=function(t){e.state.draw.strokeStyle=t.hex,e.setState({color:t.hex})},e.state={users:{},statusMessage:null,pathStarted:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v()("https://draw-with-me-socket.herokuapp.com/");t.emit("name",{name:this.props.name}),t.on("userData",function(t){e.setState({id:t.id})}),t.on("mouse",function(t){if(t.id!==e.state.id){var a=e.state.cursor;if(a.style.left=t.x+"px",a.style.top=t.y+"px",t.clicked){var n=e.state.draw2;n.strokeStyle=t.color,e.state.pathStarted?(n.lineTo(t.x,t.y),n.stroke()):(n.beginPath(),n.moveTo(t.x,t.y),e.setState({pathStarted:!0}))}else e.setState({pathStarted:!1})}}),t.on("userConnect",function(t){t.id!==e.state.id&&(e.setState({statusMessage:"".concat(t.name," joined the drawing.")}),e.resetStatus())}),t.on("userDisconnect",function(t){e.setState({statusMessage:"".concat(t.name," left the drawing.")}),e.resetStatus()});var a=this.refs.canvas,n=a.getContext("2d"),s=this.refs.partner.getContext("2d"),o=this.refs.cursor;this.setState({canvas:a,draw:n,draw2:s,socket:t,cursor:o})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"sketch-area"},s.a.createElement("div",{ref:"cursor",id:"cursor"}),s.a.createElement("canvas",{ref:"canvas",id:"layer2",width:900,height:425,onPointerDown:this.mouseDown,onPointerUp:this.mouseUp,onPointerMove:this.mouseMoved}),s.a.createElement("canvas",{ref:"partner",id:"layer1",width:900,height:425}),s.a.createElement(k.SketchPicker,{color:this.state.color,onChangeComplete:this.handleChangeComplete})),this.state.statusMessage&&s.a.createElement(p.a,null,this.state.statusMessage))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={name:""},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.name;return s.a.createElement("div",{className:"App"},t?s.a.createElement(w,{name:t}):s.a.createElement("div",null,s.a.createElement("h3",null,"Enter your name!"),s.a.createElement(m.a,{onChange:function(t){return e.setState({input:t.target.value})}}),s.a.createElement(h.a,{onClick:function(){return e.setState({name:e.state.input})}},"Confirm")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(333);r.a.render(s.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[127,2,1]]]);
//# sourceMappingURL=main.fbe5a5ff.chunk.js.map