(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(93)},52:function(e,t,a){},79:function(e,t){},93:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(14),i=a.n(o),c=(a(52),a(15)),r=a(16),u=a(19),l=a(17),d=a(20),m=a(44),h=a.n(m),v=a(95),f=a(96),w=a(97),p=a(98),k=a(99),g=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).mouseMoved=function(t){var a=e.state,n=a.clicked,s=a.draw,o=a.id,i=t.nativeEvent.offsetX,c=t.nativeEvent.offsetY;e.state.socket.emit("mouse",{x:i,y:c,clicked:n,id:o}),n&&(s.lineTo(i,c),s.stroke()),e.setState({x:i,y:c})},e.resetStatus=function(){setTimeout(function(){e.setState({statusMessage:null})},3e3)},e.mouseDown=function(){e.setState({clicked:!0}),e.state.draw.beginPath()},e.mouseUp=function(){e.setState({clicked:!1})},e.mouseLeave=function(){e.state.socket.emit("mouse",{clicked:!1}),e.setState({clicked:!1})},e.touch=function(t){var a=t.touches[0],n=new MouseEvent("mousemove",{clientX:a.clientX,clientY:a.clientY});e.state.draw.dispatchEvent(n)},e.setName=function(){var t=e.state,a=t.id,n=t.name;t.socket.emit("nameSelect",{id:a,name:n})},e.state={users:{},statusMessage:null,pathStarted:!1},e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=h()("https://draw-with-me-socket.herokuapp.com/");t.on("userData",function(t){e.setState({id:t.id})}),t.on("mouse",function(t){if(t.id!==e.state.id)if(t.clicked){var a=e.state.draw2;e.state.pathStarted?(a.lineTo(t.x,t.y),a.stroke()):(a.beginPath(),a.moveTo(t.x,t.y),e.setState({pathStarted:!0}))}else e.setState({pathStarted:!1})}),t.on("userConnect",function(t){console.log(t),e.setState({statusMessage:"".concat(t.id," joined the drawing.")}),e.resetStatus()}),t.on("userDisconnect",function(t){e.setState({statusMessage:"".concat(t.name," left the drawing.")}),e.resetStatus()});var a=this.refs.canvas.getContext("2d"),n=this.refs.partner.getContext("2d");this.setState({draw:a,draw2:n,socket:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(v.a,{id:"name-set"},s.a.createElement(f.a,null,"Name"),s.a.createElement(w.a,{onChange:function(t){return e.setState({name:t.target.value})}}),s.a.createElement(p.a,{onClick:this.setName},"Set")),s.a.createElement("canvas",{ref:"canvas",id:"layer2",width:800,height:425,onTouchMove:this.touch,onMouseDown:this.mouseDown,onMouseLeave:this.mouseLeave,onMouseUp:this.mouseUp,onMouseMove:this.mouseMoved}),s.a.createElement("canvas",{ref:"partner",id:"layer1",width:800,height:425}),this.state.statusMessage&&s.a.createElement(k.a,null,this.state.statusMessage))}}]),t}(n.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(g,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(91);i.a.render(s.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,2,1]]]);
//# sourceMappingURL=main.9b4100cb.chunk.js.map